var fe=(a,o,n)=>new Promise((t,f)=>{var g=b=>{try{O(n.next(b))}catch($){f($)}},s=b=>{try{O(n.throw(b))}catch($){f($)}},O=b=>b.done?t(b.value):Promise.resolve(b.value).then(g,s);O((n=n.apply(a,o)).next())});import{R as e,I as Se,r as D,C as Me,u as je,a as ne,_ as re,b as ae,c as Ie,d as de,t as G,e as ie,f as Ne,h as Te}from"./index.5fb3b2e1.js";import{u as He,T as Le,F as Be,B as oe,L as Q,S as L,M as se,a as pe,b as he,c as ge,g as ve,d as ye,p as be}from"./index.b536c53f.js";import{C as $e,A as Ve,L as le,B as Fe}from"./Card.fe0a1029.js";import{c as Ye}from"./lodash.212e8aaf.js";import"./mjml-browser.3becd21a.js";var Ee={exports:{}};(function(a,o){(function(n,t){a.exports=t()})(Ye,function(){var n=1e3,t=6e4,f=36e5,g="millisecond",s="second",O="minute",b="hour",$="day",P="week",_="month",z="quarter",M="year",I="date",Z="Invalid Date",J=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,B=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,X={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},V=function(c,l,r){var u=String(c);return!u||u.length>=l?c:""+Array(l+1-u.length).join(r)+c},ee={s:V,z:function(c){var l=-c.utcOffset(),r=Math.abs(l),u=Math.floor(r/60),i=r%60;return(l<=0?"+":"-")+V(u,2,"0")+":"+V(i,2,"0")},m:function c(l,r){if(l.date()<r.date())return-c(r,l);var u=12*(r.year()-l.year())+(r.month()-l.month()),i=l.clone().add(u,_),m=r-i<0,d=l.clone().add(u+(m?-1:1),_);return+(-(u+(r-i)/(m?i-d:d-i))||0)},a:function(c){return c<0?Math.ceil(c)||0:Math.floor(c)},p:function(c){return{M:_,y:M,w:P,d:$,D:I,h:b,m:O,s,ms:g,Q:z}[c]||String(c||"").toLowerCase().replace(/s$/,"")},u:function(c){return c===void 0}},T="en",j={};j[T]=X;var K=function(c){return c instanceof Y},F=function(c,l,r){var u;if(!c)return T;if(typeof c=="string")j[c]&&(u=c),l&&(j[c]=l,u=c);else{var i=c.name;j[i]=c,u=i}return!r&&u&&(T=u),u||!r&&T},E=function(c,l){if(K(c))return c.clone();var r=typeof l=="object"?l:{};return r.date=c,r.args=arguments,new Y(r)},p=ee;p.l=F,p.i=K,p.w=function(c,l){return E(c,{locale:l.$L,utc:l.$u,x:l.$x,$offset:l.$offset})};var Y=function(){function c(r){this.$L=F(r.locale,null,!0),this.parse(r)}var l=c.prototype;return l.parse=function(r){this.$d=function(u){var i=u.date,m=u.utc;if(i===null)return new Date(NaN);if(p.u(i))return new Date;if(i instanceof Date)return new Date(i);if(typeof i=="string"&&!/Z$/i.test(i)){var d=i.match(J);if(d){var h=d[2]-1||0,y=(d[7]||"0").substring(0,3);return m?new Date(Date.UTC(d[1],h,d[3]||1,d[4]||0,d[5]||0,d[6]||0,y)):new Date(d[1],h,d[3]||1,d[4]||0,d[5]||0,d[6]||0,y)}}return new Date(i)}(r),this.$x=r.x||{},this.init()},l.init=function(){var r=this.$d;this.$y=r.getFullYear(),this.$M=r.getMonth(),this.$D=r.getDate(),this.$W=r.getDay(),this.$H=r.getHours(),this.$m=r.getMinutes(),this.$s=r.getSeconds(),this.$ms=r.getMilliseconds()},l.$utils=function(){return p},l.isValid=function(){return this.$d.toString()!==Z},l.isSame=function(r,u){var i=E(r);return this.startOf(u)<=i&&i<=this.endOf(u)},l.isAfter=function(r,u){return E(r)<this.startOf(u)},l.isBefore=function(r,u){return this.endOf(u)<E(r)},l.$g=function(r,u,i){return p.u(r)?this[u]:this.set(i,r)},l.unix=function(){return Math.floor(this.valueOf()/1e3)},l.valueOf=function(){return this.$d.getTime()},l.startOf=function(r,u){var i=this,m=!!p.u(u)||u,d=p.p(r),h=function(A,k){var N=p.w(i.$u?Date.UTC(i.$y,k,A):new Date(i.$y,k,A),i);return m?N:N.endOf($)},y=function(A,k){return p.w(i.toDate()[A].apply(i.toDate("s"),(m?[0,0,0,0]:[23,59,59,999]).slice(k)),i)},v=this.$W,x=this.$M,C=this.$D,w="set"+(this.$u?"UTC":"");switch(d){case M:return m?h(1,0):h(31,11);case _:return m?h(1,x):h(0,x+1);case P:var H=this.$locale().weekStart||0,U=(v<H?v+7:v)-H;return h(m?C-U:C+(6-U),x);case $:case I:return y(w+"Hours",0);case b:return y(w+"Minutes",1);case O:return y(w+"Seconds",2);case s:return y(w+"Milliseconds",3);default:return this.clone()}},l.endOf=function(r){return this.startOf(r,!1)},l.$set=function(r,u){var i,m=p.p(r),d="set"+(this.$u?"UTC":""),h=(i={},i[$]=d+"Date",i[I]=d+"Date",i[_]=d+"Month",i[M]=d+"FullYear",i[b]=d+"Hours",i[O]=d+"Minutes",i[s]=d+"Seconds",i[g]=d+"Milliseconds",i)[m],y=m===$?this.$D+(u-this.$W):u;if(m===_||m===M){var v=this.clone().set(I,1);v.$d[h](y),v.init(),this.$d=v.set(I,Math.min(this.$D,v.daysInMonth())).$d}else h&&this.$d[h](y);return this.init(),this},l.set=function(r,u){return this.clone().$set(r,u)},l.get=function(r){return this[p.p(r)]()},l.add=function(r,u){var i,m=this;r=Number(r);var d=p.p(u),h=function(x){var C=E(m);return p.w(C.date(C.date()+Math.round(x*r)),m)};if(d===_)return this.set(_,this.$M+r);if(d===M)return this.set(M,this.$y+r);if(d===$)return h(1);if(d===P)return h(7);var y=(i={},i[O]=t,i[b]=f,i[s]=n,i)[d]||1,v=this.$d.getTime()+r*y;return p.w(v,this)},l.subtract=function(r,u){return this.add(-1*r,u)},l.format=function(r){var u=this,i=this.$locale();if(!this.isValid())return i.invalidDate||Z;var m=r||"YYYY-MM-DDTHH:mm:ssZ",d=p.z(this),h=this.$H,y=this.$m,v=this.$M,x=i.weekdays,C=i.months,w=function(k,N,te,q){return k&&(k[N]||k(u,m))||te[N].substr(0,q)},H=function(k){return p.s(h%12||12,k,"0")},U=i.meridiem||function(k,N,te){var q=k<12?"AM":"PM";return te?q.toLowerCase():q},A={YY:String(this.$y).slice(-2),YYYY:this.$y,M:v+1,MM:p.s(v+1,2,"0"),MMM:w(i.monthsShort,v,C,3),MMMM:w(C,v),D:this.$D,DD:p.s(this.$D,2,"0"),d:String(this.$W),dd:w(i.weekdaysMin,this.$W,x,2),ddd:w(i.weekdaysShort,this.$W,x,3),dddd:x[this.$W],H:String(h),HH:p.s(h,2,"0"),h:H(1),hh:H(2),a:U(h,y,!0),A:U(h,y,!1),m:String(y),mm:p.s(y,2,"0"),s:String(this.$s),ss:p.s(this.$s,2,"0"),SSS:p.s(this.$ms,3,"0"),Z:d};return m.replace(B,function(k,N){return N||A[k]||d.replace(":","")})},l.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},l.diff=function(r,u,i){var m,d=p.p(u),h=E(r),y=(h.utcOffset()-this.utcOffset())*t,v=this-h,x=p.m(this,h);return x=(m={},m[M]=x/12,m[_]=x,m[z]=x/3,m[P]=(v-y)/6048e5,m[$]=(v-y)/864e5,m[b]=v/f,m[O]=v/t,m[s]=v/n,m)[d]||v,i?x:p.a(x)},l.daysInMonth=function(){return this.endOf(_).$D},l.$locale=function(){return j[this.$L]},l.locale=function(r,u){if(!r)return this.$L;var i=this.clone(),m=F(r,u,!0);return m&&(i.$L=m),i},l.clone=function(){return p.w(this.$d,this)},l.toDate=function(){return new Date(this.valueOf())},l.toJSON=function(){return this.isValid()?this.toISOString():null},l.toISOString=function(){return this.$d.toISOString()},l.toString=function(){return this.$d.toUTCString()},c}(),R=Y.prototype;return E.prototype=R,[["$ms",g],["$s",s],["$m",O],["$H",b],["$W",$],["$M",_],["$y",M],["$D",I]].forEach(function(c){R[c[1]]=function(l){return this.$g(l,c[0],c[1])}}),E.extend=function(c,l){return c.$i||(c(l,Y,E),c.$i=!0),E},E.locale=F,E.isDayjs=K,E.unix=function(c){return E(1e3*c)},E.en=j[T],E.Ls=j,E.p={},E})})(Ee);var Ae=Ee.exports,W=globalThis&&globalThis.__assign||function(){return W=Object.assign||function(a){for(var o,n=1,t=arguments.length;n<t;n++){o=arguments[n];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(a[f]=o[f])}return a},W.apply(this,arguments)},We=globalThis&&globalThis.__rest||function(a,o){var n={};for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&o.indexOf(t)<0&&(n[t]=a[t]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,t=Object.getOwnPropertySymbols(a);f<t.length;f++)o.indexOf(t[f])<0&&Object.prototype.propertyIsEnumerable.call(a,t[f])&&(n[t[f]]=a[t[f]]);return n},Oe=globalThis&&globalThis.__read||function(a,o){var n=typeof Symbol=="function"&&a[Symbol.iterator];if(!n)return a;var t=n.call(a),f,g=[],s;try{for(;(o===void 0||o-- >0)&&!(f=t.next()).done;)g.push(f.value)}catch(O){s={error:O}}finally{try{f&&!f.done&&(n=t.return)&&n.call(t)}finally{if(s)throw s.error}}return g},Ke={position:"top",okType:"primary",icon:e.createElement(Se,null),blurToHide:!0,unmountOnExit:!0,trigger:"click",escToClose:!0};function Re(a,o){var n=D.exports.useContext(Me),t=n.getPrefixCls,f=n.locale,g=n.componentConfig,s=je(a,Ke,g==null?void 0:g.Popconfirm),O=s.style,b=s.className,$=s.children,P=s.position,_=s.getPopupContainer,z=s.blurToHide,M=s.unmountOnExit,I=s.trigger,Z=s.escToClose,J=s.onVisibleChange,B=s.triggerProps,X=s.title,V=s.icon,ee=s.okText,T=s.cancelText,j=s.okType,K=s.okButtonProps,F=s.cancelButtonProps,E=s.autoFocus,p=s.focusLock,Y=We(s,["style","className","children","position","getPopupContainer","blurToHide","unmountOnExit","trigger","escToClose","onVisibleChange","triggerProps","title","icon","okText","cancelText","okType","okButtonProps","cancelButtonProps","autoFocus","focusLock"]),R=Oe(He(!1,{defaultValue:s.defaultPopupVisible,value:s.popupVisible}),2),c=R[0],l=R[1],r=Oe(D.exports.useState(!1),2),u=r[0],i=r[1],m=t("popconfirm"),d=function(C){"popupVisible"in s||l(C),B&&B.onVisibleChange&&B.onVisibleChange(C),J&&J(C)},h=function(){d(!1)},y=function(){h(),s.onCancel&&s.onCancel()},v=function(){var C=s.onOk||s.onConfirm,w;C&&(w=C()),w&&w.then&&(i(!0),w.then(function(){h()},function(H){i(!1),console.error(H)})),w||h()},x=function(){var C=e.createElement(e.Fragment,null,e.createElement(oe,W({onClick:y,size:"mini"},F),T||f.Popconfirm.cancelText),e.createElement(oe,W({loading:u,onClick:v,size:"mini",type:j},K),ee||f.Popconfirm.okText));return e.createElement("div",{className:m+"-wrapper"},e.createElement("div",{className:m+"-title"},V&&e.createElement("span",{className:m+"-title-icon"},V),e.createElement("div",{className:m+"-title-text"},X)),e.createElement("div",{className:m+"-btn"},p?e.createElement(Be,{disabled:!c,autoFocus:!!E},C):C))};return D.exports.useEffect(function(){return!c&&u&&i(!1),function(){i(!1)}},[c]),e.createElement(Le,W({},Y,{ref:o,style:W({maxWidth:350},O),className:b,prefixCls:m,getPopupContainer:_,position:P,trigger:I,escToClose:Z,popupVisible:c,content:x(),unmountOnExit:M,blurToHide:z,popupHoverStay:!0,triggerProps:B,onVisibleChange:d,childrenPrefix:m}),typeof $=="string"?e.createElement("span",null,$):$)}var xe=D.exports.forwardRef(Re);xe.displayName="Popconfirm";var Ue=xe;function Ce(a,o){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(a);o&&(t=t.filter(function(f){return Object.getOwnPropertyDescriptor(a,f).enumerable})),n.push.apply(n,t)}return n}function _e(a){for(var o=1;o<arguments.length;o++){var n=arguments[o]!=null?arguments[o]:{};o%2?Ce(Object(n),!0).forEach(function(t){ae(a,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(n,t))})}return a}function ze(a,o){var n=D.exports.useContext(ne),t=n.prefixCls,f=a.spin,g=a.className,s=_e(_e({ref:o},a),{},{className:"".concat(g?g+" ":"").concat(t,"-icon ").concat(t,"-icon-delete")});return f&&(s.className="".concat(s.className," ").concat(t,"-icon-loading")),delete s.spin,delete s.isIcon,e.createElement("svg",re({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",width:"1em",height:"1em"},s),e.createElement("path",{d:"M5 11h5.5m0 0v29a1 1 0 0 0 1 1h25a1 1 0 0 0 1-1V11m-27 0H16m21.5 0H43m-5.5 0H32m-16 0V7h16v4m-16 0h16M20 18v15m8-15v15"}))}var ce=e.forwardRef(ze);ce.defaultProps={isIcon:!0};ce.displayName="IconDelete";var Ze=ce;function we(a,o){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(a);o&&(t=t.filter(function(f){return Object.getOwnPropertyDescriptor(a,f).enumerable})),n.push.apply(n,t)}return n}function ke(a){for(var o=1;o<arguments.length;o++){var n=arguments[o]!=null?arguments[o]:{};o%2?we(Object(n),!0).forEach(function(t){ae(a,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(n,t))})}return a}function Je(a,o){var n=D.exports.useContext(ne),t=n.prefixCls,f=a.spin,g=a.className,s=ke(ke({ref:o},a),{},{className:"".concat(g?g+" ":"").concat(t,"-icon ").concat(t,"-icon-edit")});return f&&(s.className="".concat(s.className," ").concat(t,"-icon-loading")),delete s.spin,delete s.isIcon,e.createElement("svg",re({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",width:"1em",height:"1em"},s),e.createElement("path",{d:"m30.48 19.038 5.733-5.734a1 1 0 0 0 0-1.414l-5.586-5.586a1 1 0 0 0-1.414 0l-5.734 5.734m7 7L15.763 33.754a1 1 0 0 1-.59.286l-6.048.708a1 1 0 0 1-1.113-1.069l.477-6.31a1 1 0 0 1 .29-.631l14.7-14.7m7 7-7-7M6 42h36"}))}var ue=e.forwardRef(Je);ue.defaultProps={isIcon:!0};ue.displayName="IconEdit";var qe=ue;function Ge(){const a=document.createElement("script");a.id="github-button",a.src="https://buttons.github.io/buttons.js",document.body.appendChild(a)}const{SubMenu:Qe}=se,{Header:Xe,Content:et,Sider:tt}=Q;function nt({children:a,title:o,primaryAction:n,breadcrumb:t}){D.exports.useEffect(()=>{Ge()},[]);const[f,g]=D.exports.useState(""),{currentUser:s,logout:O}=Ie(),b=de();function $(){return fe(this,null,function*(){g("");try{yield O(),b.push("/login")}catch(P){g("Failed to log out")}})}return e.createElement(Q,null,e.createElement(Xe,{style:{padding:"0 20px",backgroundColor:"#001529"}},e.createElement(L,{distribution:"equalSpacing",alignment:"center"},e.createElement("h1",{style:{color:"white",margin:"15px 0"}},"e-mailbuild"),e.createElement("div",{style:{marginTop:10}},e.createElement(e.Fragment,null,e.createElement($e,null,e.createElement($e.Body,null,e.createElement("h2",{className:"text-center mb-4"},"Profile"),f&&e.createElement(Ve,{variant:"danger"},f),e.createElement("strong",null,"Email:")," ",s.email,e.createElement(le,{to:"/update-profile",className:"btn btn-primary w-100 mt-3"},"Update Profile"))),e.createElement("div",{className:"w-100 text-center mt-2"},e.createElement(Fe,{varient:"link",onClick:$},"Log Out")))))),e.createElement(Q,null,e.createElement(tt,{width:200},e.createElement(se,{defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],style:{height:"100%",borderRight:0}},e.createElement(Qe,{key:"sub1",title:"Templates"},e.createElement(se.Item,{key:"1"},"Templates")))),e.createElement(Q,{style:{padding:24}},e.createElement(L,{vertical:!0},t&&e.createElement(pe,null,e.createElement(pe.Item,null,t)),e.createElement(L,{distribution:"equalSpacing",alignment:"center"},e.createElement(L.Item,null,e.createElement("h2",null,e.createElement("strong",null,o))),e.createElement(L.Item,null,n)),e.createElement(L.Item,null,e.createElement(et,{style:{padding:24,margin:0,backgroundColor:"#fff"}},a))))))}function De(a,o){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(a);o&&(t=t.filter(function(f){return Object.getOwnPropertyDescriptor(a,f).enumerable})),n.push.apply(n,t)}return n}function Pe(a){for(var o=1;o<arguments.length;o++){var n=arguments[o]!=null?arguments[o]:{};o%2?De(Object(n),!0).forEach(function(t){ae(a,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(n,t))})}return a}function rt(a,o){var n=D.exports.useContext(ne),t=n.prefixCls,f=a.spin,g=a.className,s=Pe(Pe({ref:o},a),{},{className:"".concat(g?g+" ":"").concat(t,"-icon ").concat(t,"-icon-heart-fill")});return f&&(s.className="".concat(s.className," ").concat(t,"-icon-loading")),delete s.spin,delete s.isIcon,e.createElement("svg",re({fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",width:"1em",height:"1em"},s),e.createElement("path",{fill:"currentColor",stroke:"none",d:"M24 10.541c4.35-4.522 11.405-4.814 15.756-.292 4.35 4.522 4.15 11.365.448 17.135C36.153 33.7 28 41.5 24 42c-4-.5-12.152-8.3-16.204-14.616-3.702-5.77-3.902-12.613.448-17.135C12.595 5.727 19.65 6.019 24 10.54Z"}))}var me=e.forwardRef(rt);me.defaultProps={isIcon:!0};me.displayName="IconHeartFill";var at=me;const it="_templeteItem_1lybk_1",ot="_mask_1lybk_15",st="_listBottom_1lybk_29",lt="_listItem_1lybk_39",ct="_bottom_1lybk_57";var S={templeteItem:it,mask:ot,listBottom:st,listItem:lt,bottom:ct};function ut(a){const{data:o}=a,n=he(),t=de(),[f,g]=D.exports.useState(0),s=ge([ve(G.loadings.duplicate,o.article_id),ve(G.loadings.removeById,o.article_id)]),O=D.exports.useCallback(()=>{n(G.actions.removeById({id:o.article_id,_actionKey:o.article_id,success(){n(ie.actions.fetch(void 0))}}))},[o,n]),b=P=>{P.preventDefault(),g(_=>_+1)},$=D.exports.useCallback(P=>{P.preventDefault(),n(G.actions.duplicate({article:o,_actionKey:o.article_id,success(_){t.push(`/editor?id=${_}`)}}))},[o,n,t]);return e.createElement("div",{key:o.article_id,className:S.templeteItem,style:{backgroundImage:`url(${o.picture})`}},e.createElement("div",{className:S.bottom},e.createElement("div",{className:S.title},"Title: ",o.title),e.createElement("div",{className:S.title},"Date ",Ae(o.created_at*1e3).format("YYYY-MM-DD"))),e.createElement("div",{className:S.mask},s?e.createElement("div",{className:S.listBottom},e.createElement(ye,{loading:!0,color:"#ffffff"})):e.createElement("div",{className:S.listBottom},e.createElement("div",{className:S.listItem},e.createElement(Ue,{title:"Are you want to delete it?",onConfirm:O,okText:"Ok",cancelText:"Cancel"},e.createElement(Ze,null),"\xA0Delete")),e.createElement("div",{className:S.listItem},e.createElement(le,{to:`/editor?id=${o.article_id}&userId=${o.user_id}`,onClick:()=>be({name:"Edit",label:o.article_id.toString()})},e.createElement(qe,null),"\xA0Edit")),e.createElement("div",{className:S.listItem},e.createElement(le,{to:"javascript:void(0)",onClick:$},"Duplicate")),e.createElement("div",{className:S.listItem},e.createElement("button",{onClick:b}," ",e.createElement(at,null),"Like:",f)))))}function vt(){const a=he(),o=Ne("templateList"),n=ge(ie.loadings.fetch);return D.exports.useEffect(()=>{a(ie.actions.fetch(void 0))},[a]),e.createElement(nt,{title:"Templates",primaryAction:e.createElement(oe,{onClick:()=>{be({name:"Create"}),Te.push("/editor")}},"Add")},e.createElement("div",{style:{minHeight:400}},e.createElement(ye,{loading:n},e.createElement(L,null,o.map(t=>e.createElement(ut,{data:t,key:t.article_id}))))))}export{vt as default};
//# sourceMappingURL=index.4042c647.js.map
